(this["webpackJsonpassettoserver-ui"]=this["webpackJsonpassettoserver-ui"]||[]).push([[0],{15:function(e,t,r){},17:function(e,t,r){},18:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),s=r(6),a=r.n(s),i=r(4),o=r(2),u=r.n(o),l=r(3),d=String(""),j=function(){var e=Object(l.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b({}),e.next=3,fetch("".concat(d,"/api/players"),r);case 3:return n=e.sent,e.next=6,n.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(u.a.mark((function e(){var t,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b({}),e.next=3,fetch("".concat(d,"/INFO"),t);case 3:return r=e.sent,e.next=6,r.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(e){var t=e.body,r=e.method,n=void 0===r?"GET":r,c=e.headers;return{method:n,headers:void 0===c?{"Content-Type":"application/json"}:c,body:t?JSON.stringify(t):void 0}},p={getPlayers:j,getServerInfo:v},h=r(8),f=(r(15),r(1)),x=c.a.createContext({}),O=function(e){var t=e.children,r=Object(n.useState)(void 0),c=Object(i.a)(r,2),s=c[0],a=c[1],o=Object(n.useState)(void 0),u=Object(i.a)(o,2),l=u[0],d=u[1];return Object(f.jsx)(x.Provider,{value:{staticServerInfo:s,setStaticServerInfo:a,players:l,setPlayers:d},children:t})},y=function(){var e=Object(l.a)(u.a.mark((function e(t,r){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.getPlayers();case 3:n=e.sent,r(void 0),t(n.players),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r("An error occurred while trying to fetch the players list");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),m=function(){var e=Object(n.useContext)(x),t=e.players,r=e.setPlayers,c=Object(n.useState)(void 0),s=Object(i.a)(c,2),a=s[0],o=s[1];return Object(h.a)((function(){return y(r,o)}),1e4,!1,!0),a?Object(f.jsx)("div",{className:"player-list",children:Object(f.jsx)("div",{children:a})}):!t||t.length<1?Object(f.jsx)("div",{className:"player-list",children:Object(f.jsx)("div",{children:"There currently are no players on the server"})}):Object(f.jsx)("div",{className:"player-list",children:t.map((function(e,t){var r;return Object(f.jsxs)("div",{className:"player-entry",children:[Object(f.jsxs)("div",{className:"info",children:[Object(f.jsxs)("div",{children:[e.sessionId," - ",e.name]}),Object(f.jsx)("div",{children:e.car}),Object(f.jsx)("div",{children:null===(r=e.skin)||void 0===r?void 0:r.split("/")[0]}),Object(f.jsxs)("div",{children:[e.country,", ",Object(f.jsx)("a",{target:"_blank",href:"https://steamcommunity.com/profiles/".concat(e.guid),children:"Profile"})]})]}),Object(f.jsxs)("div",{className:"buttons",children:[Object(f.jsx)("button",{children:"Kick"}),Object(f.jsx)("button",{children:"Ban"}),Object(f.jsx)("button",{children:"Copy ID"})]})]},t)}))})},S=(r(17),r(18),function(){var e,t=Object(n.useContext)(x),r=t.staticServerInfo,c=t.setStaticServerInfo;if(Object(n.useEffect)(Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.getServerInfo();case 2:t=e.sent,c(t);case 4:case"end":return e.stop()}}),e)}))),[]),!r)return Object(f.jsx)(f.Fragment,{});var s=null===r||void 0===r||null===(e=r.name)||void 0===e?void 0:e.split("\u2139");return Object(f.jsx)("div",{className:"header",children:Object(f.jsxs)("div",{className:"header-content",children:[Object(f.jsx)("div",{children:s}),Object(f.jsxs)("div",{children:[r.ip,":",r.port]}),Object(f.jsxs)("div",{children:[r.clients," / ",r.maxclients]}),Object(f.jsx)("button",{onClick:function(){return navigator.clipboard.writeText("https://acstuff.ru/s/q:race/online/join?ip=".concat(r.ip,"&httpPort=").concat(r.port))},children:"Copy Server Link"})]})})}),g=function(){return Object(f.jsxs)("div",{className:"app",children:[Object(f.jsx)(S,{}),Object(f.jsx)("div",{children:Object(f.jsx)(m,{})})]})};a.a.render(Object(f.jsx)(O,{children:Object(f.jsx)(g,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.b51bc681.chunk.js.map